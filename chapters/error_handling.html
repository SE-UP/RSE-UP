
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Handling Errors &#8212; RSE-ING</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/book.css?v=c89437f7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chapters/error_handling';</script>
    <link rel="canonical" href="https://software-engineering-group-up.github.io/RSE-UP/chapters/error_handling.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Exercises - Error Handling" href="../exercises/error_handling.html" />
    <link rel="prev" title="Exercises - Testing" href="../exercises/testing.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="welcome.html">
  
  
  
  
  
  
    <p class="title logo__title">RSE-ING</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="welcome.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/python_refresh.html">Python Refresher</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Bash and the CLI</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="bash_basics.html">The Basics of the Unix Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="bash_tools.html">Building Tools with the Unix Shell</a></li>

<li class="toctree-l1"><a class="reference internal" href="bash_advanced.html">Going Further with the Unix Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/bash.html">Bash Exercises</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Building CLI with Python</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="python_building_cli.html">Building Command-Line Tools with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/python_cli.html">Exercises - Scripting Python for CLI tools</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Version Control</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro_version_control.html">Using Git at the Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/version_control.html">Exercise Version Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="git_advanced.html">Going Further with Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/git_advanced.html">Exercises Git Advanced</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Working in teams</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="working_in_teams.html">Working in Teams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/work_teams.html">Exercise - Work Teams</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction to automation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro_make.html">Automating Analyses with Make</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/intro_make.html">Exercises - Make</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Configuration</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuring Programs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/config.html">Exercises - Configuration</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Testing Software</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="testing_programs.html">Testing Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/testing.html">Exercises - Testing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Error Handling</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Handling Errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/error_handling.html">Exercises - Error Handling</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tracking Provenance</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tracking_provenance.html">Tracking Provenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/provenance.html">Exercises - Provenance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Packaging</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="python_packaging.html">Creating Packages with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exercises/packaging.html">Exercises - Packaging</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Writing Clean Code</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="clean_readable_code.html">Writing Readable Code</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Documentation</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="writing_documentation.html">Documenting Programs</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Workflows</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Introduction to Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="snakemake.html">Snake Make</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_cicd.html">CI/CD</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Worksheets - Course Work</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../worksheets/worksheet2_install_more_tool_shell.html">Worksheet 2 - Installing more Tools, working with the Unix SHell, Getting Started with the Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../worksheets/worksheet3_cli_python_git.html">Worksheet 3 - Command Line Tools with Python , Git and the Command Line, Git UP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../worksheets/worksheet4_readable_code.html">Worksheet 4 - Readable Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../worksheets/worksheet6_software_license.html">Worksheet 6 - Software Licensing, Citation and FAIR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../worksheets/worksheet7_git_advanced.html">Worksheet 8 - Going further with Git</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">First Project - Invdividual</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../projects/individual/1_project_instructions.html">Project Assignment 1: Select a Dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/individual/2_project_instructions.html">Project Assignment 2: Setting Up the Repository on Git.UP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/individual/3_project_instructions.html">Project Assignment 4: Start Coding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/individual/4_project_instructions.html">Project Assignment 4: More Code, a Notebook, and a README.md</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/individual/5_project_instructions.html">Project Assignment 5: Add License and Citation Informatoon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/individual/6_project_instructions.html">Project Assignment 6:</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Second Project - Group</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../projects/group/1_project_assignment.html">Project Assignment: Form Groups for Second Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/group/2_project_assignment.html">Project Assignment 2: Name, Idea and Basic Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/group/3_project_assignment.html">Project Assignment 3: Requirements, Architecture, Design and Implementation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/group/4_project_assignment.html">Project Assignment 4: Testing and Error Handling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/group/5_project_assignment.html">Project Assignment 5: Program Configuration, Packaging and Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projects/group/6_project_assignment.html">Project Assignment 6: Finish and Submit the Project</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="solutions.html">Solutions</a></li>
<li class="toctree-l1"><a class="reference internal" href="anaconda.html">Anaconda</a></li>
<li class="toctree-l1"><a class="reference internal" href="yaml.html">YAML</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_remotely.html">Working Remotely</a></li>
<li class="toctree-l1"><a class="reference internal" href="tree.html">Project Tree</a></li>
<li class="toctree-l1"><a class="reference internal" href="references.html">Bibliography</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/Software-Engineering-Group-UP/RSE-UP" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/Software-Engineering-Group-UP/RSE-UP/issues/new?title=Issue%20on%20page%20%2Fchapters/error_handling.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/chapters/error_handling.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Handling Errors</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exceptions">Exceptions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-useful-error-messages">Writing Useful Error Messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-error-handling">Testing Error Handling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-errors">Reporting Errors</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#keypoints">Keypoints</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="handling-errors">
<h1>Handling Errors<a class="headerlink" href="#handling-errors" title="Link to this heading">#</a></h1>
<blockquote>
<div><p>“When Mister Safety Catch Is Not On, Mister Crossbow Is Not Your Friend.”</p>
<p>— Terry Pratchett</p>
</div></blockquote>
<p>We are imperfect people living in an imperfect world.
People will misunderstand how to use our programs,
and even if we test thoroughly as described in the previous chapter,
those programs might still contain bugs.
We should therefore plan from the start to detect and handle errors.</p>
<p>Something that goes wrong while a program is running
is sometimes referred to as an <strong>exception</strong> from normal behavior.Generally speaking,
we distinguish between two types of errors/exceptions.
<strong>Internal errors</strong>, are mistakes in the program itself,
such as calling a function with <code class="docutils literal notranslate"><span class="pre">None</span></code> instead of a list.
<strong>External errors</strong> are usually caused
by interactions between the program and the outside world:
a user may mis-type a filename,
the network might be down,
and so on.</p>
<p>When an internal error occurs,
the only thing we can do in most cases is report it and halt the program.
If a function has been passed <code class="docutils literal notranslate"><span class="pre">None</span></code> instead of a valid list,
for example,
the odds are good that one of our data structures is corrupted.
We can try to guess what the problem is and take corrective action,
but our guess will often be wrong
and our attempt to correct the problem might actually make things worse.
When an external error occurs on the other hand,
we don’t always want the program to stop.
If a user mis-types her password,
handling the error by prompting her to try again
would be friendlier than halting and requiring her to restart the program.</p>
<p>This chapter looks at how we can raise, catch and handle errors.
We consider how to write useful error messages,
and how to make our programs log those messages
along with other useful information as they are running,
so that it’s easier to figure out what happened when something goes wrong.</p>
<p>The Zipf’s Law project should now include:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>zipf/
├── .gitignore
├── .travis.yml
├── CONDUCT.md
├── CONTRIBUTING.md
├── LICENSE.md
├── Makefile
├── README.md
├── requirements.txt
├── bin
│   ├── book_summary.sh
│   ├── collate.py
│   ├── countwords.py
│   ├── plotcounts.py
│   ├── plotparams.yml
│   ├── script_template.py
│   ├── test_zipfs.py
│   └── utilities.py
├── data
│   ├── README.md
│   ├── dracula.txt
│   └── ...
├── results
│   ├── dracula.csv
│   ├── dracula.png
│   └── ...
└── test_data
    ├── random_words.txt
    └── risk.txt
</pre></div>
</div>
<section id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Link to this heading">#</a></h2>
<p>Most modern programming languages use exceptions for error handling.
As the name suggests,
an exception is a way to represent an exceptional or unusual occurrence
that doesn’t fit neatly into the program’s expected operation.
The code below uses exceptions to report attempts to divide by zero:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">denom</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">denom</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;1/</span><span class="si">{</span><span class="n">denom</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Cannot divide by </span><span class="si">{</span><span class="n">denom</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1/-5 == -0.2
Cannot divide by 0
1/5 == 0.2
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">try</span></code>/<code class="docutils literal notranslate"><span class="pre">except</span></code> looks like <code class="docutils literal notranslate"><span class="pre">if</span></code>/<code class="docutils literal notranslate"><span class="pre">else</span></code> and works in a similar fashion.
If nothing unexpected happens inside the <code class="docutils literal notranslate"><span class="pre">try</span></code> block,
the <code class="docutils literal notranslate"><span class="pre">except</span></code> block isn’t run (<a class="reference internal" href="#errors-control-flow"><span class="std std-ref">Figure Control Flow</span></a>).
If something goes wrong inside the <code class="docutils literal notranslate"><span class="pre">try</span></code>,
on the other hand,
the program jumps immediately to the <code class="docutils literal notranslate"><span class="pre">except</span></code>.
This is why the <code class="docutils literal notranslate"><span class="pre">print</span></code> statement inside the <code class="docutils literal notranslate"><span class="pre">try</span></code> doesn’t run when <code class="docutils literal notranslate"><span class="pre">denom</span></code> is 0:
as soon as Python tries to calculate <code class="docutils literal notranslate"><span class="pre">1/denom</span></code>,
it skips directly to the code under <code class="docutils literal notranslate"><span class="pre">except</span></code>.</p>
<figure class="align-default" id="errors-control-flow">
<img alt="../_images/exceptions.png" src="../_images/exceptions.png" />
<figcaption>
<p><span class="caption-number">Fig. 46 </span><span class="caption-text">Control Flow</span><a class="headerlink" href="#errors-control-flow" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>We often want to know exactly what went wrong,
so Python and other languages store information about the error
in an object (which is also called an exception).
We can <strong>catch</strong> an exception and inspect it as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">denom</span> <span class="ow">in</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">denom</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;1/</span><span class="si">{</span><span class="n">denom</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">denom</span><span class="si">}</span><span class="s1"> has no reciprocal: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1/-5 == -0.2
0 has no reciprocal: division by zero
1/5 == 0.2
</pre></div>
</div>
<p>We can use any variable name we like instead of <code class="docutils literal notranslate"><span class="pre">error</span></code>;
Python will assign the exception object to that variable
so that we can do things with it in the <code class="docutils literal notranslate"><span class="pre">except</span></code> block.</p>
<p>Python also allows us to specify what kind of exception we want to catch.
For example,
we can write code to handle out-of-range indexing and division by zero separately:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">denom</span> <span class="o">=</span> <span class="n">numbers</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">result</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">denom</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;1/</span><span class="si">{</span><span class="n">denom</span><span class="si">}</span><span class="s1"> == </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IndexError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;index </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1"> out of range&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ZeroDivisionError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">denom</span><span class="si">}</span><span class="s1"> has no reciprocal: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1/-5 == -0.2
0 has no reciprocal: division by zero
1/5 == 0.2
index 3 out of range
</pre></div>
</div>
<p>Exceptions are organized in a hierarchy: for example,
<code class="docutils literal notranslate"><span class="pre">FloatingPointError</span></code>, <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code>, and <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code>
are all special cases of <code class="docutils literal notranslate"><span class="pre">ArithmeticError</span></code>,
so an <code class="docutils literal notranslate"><span class="pre">except</span></code> that catches the latter will catch all three of the former,
but an <code class="docutils literal notranslate"><span class="pre">except</span></code> that catches an <code class="docutils literal notranslate"><span class="pre">OverflowError</span></code>
<em>won’t</em> catch a <code class="docutils literal notranslate"><span class="pre">ZeroDivisionError</span></code>.
The Python documentation describes all of <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#exception-hierarchy">the built-in exception types</a>;
in practice,the ones that people handle most often are:</p>
<p>\newpage</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ArithmeticError</span></code>:
something has gone wrong in a calculation.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">IndexError</span></code> and <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>:
something has gone wrong indexing a list or lookup something up in a dictionary.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OSError</span></code>:
thrown when a file is not found,
the program doesn’t have permission to read it,
and so on.</p></li>
</ul>
<p>So where do exceptions come from?
The answer is that programmers can <strong>raise</strong> them explicitly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">number</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;no negatives: </span><span class="si">{</span><span class="n">number</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;exception: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>1
0
exception: no negatives: -1
</pre></div>
</div>
<p>We can define our own exception types,
and many libraries do,
but the built-in types are enough to cover common cases.</p>
<p>One final note is that exceptions don’t have to be handled where they are raised.
In fact,
their greatest strength is that they allow long-range error handling.
If an exception occurs inside a function and there is no <code class="docutils literal notranslate"><span class="pre">except</span></code> for it there,
Python checks to see if whoever called the function is willing to handle the error.
It keeps working its way up through the <strong>call stack</strong> until it finds a matching <code class="docutils literal notranslate"><span class="pre">except</span></code>. If there isn’t one, Python takes care of the exception itself.
The example below relies on this:
the second call to <code class="docutils literal notranslate"><span class="pre">sum_reciprocals</span></code> tries to divide by zero,
but the exception is caught in the calling code
rather than in the function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">sum_reciprocals</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">+=</span> <span class="mi">1</span><span class="o">/</span><span class="n">v</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="n">numbers</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">one_over</span> <span class="o">=</span> <span class="n">sum_reciprocals</span><span class="p">(</span><span class="n">numbers</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ArithmeticError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Error trying to sum reciprocals: </span><span class="si">{</span><span class="n">error</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Error trying to sum reciprocals: division by zero
</pre></div>
</div>
<p>This behavior is designed to support a pattern called “throw low, catch high”:
write most of your code without exception handlers,
since there’s nothing useful you can do in the middle of a small utility function,
but put a few handlers in the uppermost functions of your program
to catch and report all errors.</p>
<p>We can now go ahead and add error handling to our Zipf’s Law code.
Some is already built in:
for example,
if we try to read a file that does not exist,
the <code class="docutils literal notranslate"><span class="pre">open</span></code> function throws a <code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>bin/collate.py<span class="w"> </span>results/none.csv<span class="w"> </span>results/dracula.csv
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Traceback (most recent call last):
  File &quot;bin/collate.py&quot;, line 35, in &lt;module&gt;
    main(args)
  File &quot;bin/collate.py&quot;, line 23, in main
    with open(fname, &#39;r&#39;) as reader:
FileNotFoundError: [Errno 2] No such file or directory:
&#39;results/none.csv&#39;
</pre></div>
</div>
<p>But what happens if we try to read a file that exists,
but was not created by <code class="docutils literal notranslate"><span class="pre">countwords.py</span></code>?</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>bin/collate.py<span class="w"> </span>Makefile
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Traceback (most recent call last):
  File &quot;bin/collate.py&quot;, line 35, in &lt;module&gt;
    main(args)
  File &quot;bin/collate.py&quot;, line 24, in main
    update_counts(reader, word_counts)
  File &quot;bin/collate.py&quot;, line 15, in update_counts
    for word, count in csv.reader(reader):
ValueError: not enough values to unpack (expected 2, got 1)
</pre></div>
</div>
<p>This error is hard to understand,
even if we are familiar with the code’s internals.
Our program should therefore check that the input files are CSV files,
and if not,
raise an error with a useful explanation of what went wrong.
We could achieve this by wrapping the call to <code class="docutils literal notranslate"><span class="pre">open</span></code> in a <code class="docutils literal notranslate"><span class="pre">try/except</span></code> clause:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">infiles</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
            <span class="n">update_counts</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">word_counts</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s1"> is not a CSV file.&#39;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;ValueError: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>bin/collate.py<span class="w"> </span>Makefile
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Makefile is not a CSV file.
ValueError: not enough values to unpack (expected 2, got 1)
</pre></div>
</div>
<p>This is definitely more informative than before.
However,
<em>all</em> <code class="docutils literal notranslate"><span class="pre">ValueErrors</span></code> that are raised when trying to open a file
will result in this error message,
including those raised when we actually do use a CSV file as input.
A more precise approach in this case would be to throw an exception
only if some other kind of file is specified as an input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">infiles</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">fname</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;.csv&#39;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s1"> is not a CSV file.&#39;</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">update_counts</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">word_counts</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>python<span class="w"> </span>bin/collate.py<span class="w"> </span>Makefile
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Traceback (most recent call last):
  File &quot;bin/collate.py&quot;, line 37, in &lt;module&gt;
    main(args)
  File &quot;bin/collate.py&quot;, line 24, in main
    raise OSError(f&#39;{fname} is not a CSV file.&#39;)
OSError: Makefile is not a CSV file.
</pre></div>
</div>
<p>This approach is still not perfect:
we are checking that the file’s suffix is <code class="docutils literal notranslate"><span class="pre">.csv</span></code>
instead of checking the content of the file
and confirming that it is what we require.
What we <em>should</em> do is check that there are two columns separated by a comma,
that the first column contains strings,
and that the second is numerical.</p>
<blockquote>
<div><p><strong>Kinds of Errors</strong></p>
<p>The “<code class="docutils literal notranslate"><span class="pre">if</span></code> then <code class="docutils literal notranslate"><span class="pre">raise</span></code>” approach is sometimes referred to as “look before you leap,”
while the <code class="docutils literal notranslate"><span class="pre">try/except</span></code> approach obeys the old adage that
“it’s easier to ask for forgiveness than permission.”
The first approach is more precise,
but has the shortcoming that programmers can’t anticipate everything that can go wrong when running a program,
so there should always be an <code class="docutils literal notranslate"><span class="pre">except</span></code> somewhere
to deal with unexpected cases.</p>
<p>The one rule we should <em>always</em> follow is to check for errors as early as possible
so that we don’t waste the user’s time.
Few things are as frustrating as being told at the end of an hour-long calculation
that the program doesn’t have permission to write to an output directory.
It’s a little extra work to check things like this up front,
but the larger your program or the longer it runs,
the more useful those checks will be.</p>
</div></blockquote>
</section>
<section id="writing-useful-error-messages">
<h2>Writing Useful Error Messages<a class="headerlink" href="#writing-useful-error-messages" title="Link to this heading">#</a></h2>
<figure class="align-default" id="errors-error-message">
<img alt="../_images/error-message.png" src="../_images/error-message.png" />
<figcaption>
<p><span class="caption-number">Fig. 47 </span><span class="caption-text">Error message</span><a class="headerlink" href="#errors-error-message" title="Link to this image">#</a></p>
</figcaption>
</figure>
<p>The error message shown in <a class="reference internal" href="#errors-error-message"><span class="std std-ref">Figure Error Message</span></a> is not helpful.
Having <code class="docutils literal notranslate"><span class="pre">collate.py</span></code> print the message below would be equally unfriendly:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>OSError: Something went wrong, try again.
</pre></div>
</div>
<p>This message doesn’t provide any information on what went wrong,
so it is difficult to know what to change for next time.
A slightly better message would be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>OSError: Unsupported file type.
</pre></div>
</div>
<p>This tells us the problem is with the type of file we’re trying to process,
but it still doesn’t tell us what file types are supported,
which means we have to rely on guesswork or read the source code.
Telling the user “<em>filename</em> is not a CSV file”
(as we did in the previous section)
makes it clear that the program only works with CSV files,
but since we don’t actually check the content of the file,
this message could confuse someone who has comma-separated values saved in a <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file.
An even better message would therefore be:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>OSError: File must end in .csv
</pre></div>
</div>
<p>This message tells us exactly what the criteria are to avoid the error.</p>
<p>Error messages are often the first thing people read about a piece of software,
so they should therefore be the most carefully written documentation for that software.
A web search for “writing good error messages” turns up hundreds of hits,
but recommendations are often more like gripes than guidelines
and are usually not backed up by evidence.
What research there is gives us the following rules <span id="id1">[<a class="reference internal" href="references.html#id6" title="Brett A. Becker, Graham Glanville, Ricardo Iwashima, Claire McDonnell, Kyle Goslin, and Catherine Mooney. Effective Compiler Error Message Enhancement for Novice Programming Students. Computer Science Education, 26(2-3):148–175, Jul 2016. Reports that improved error messages helped novices learn faster. doi:10.1080/08993408.2016.1225464.">Becker <em>et al.</em>, 2016</a>]</span>:</p>
<ol class="arabic simple">
<li><p>Tell the user what they did, not what the program did.
Putting it another way,
the message shouldn’t state the effect of the error,
it should state the cause.</p></li>
<li><p>Be spatially correct,
i.e.,
point at the actual location of the error.
Few things are as frustrating as being pointed at line 28
when the problem is really on line 35.</p></li>
<li><p>Be as specific as possible without being or seeming wrong
from a user’s point of view.
For example,
“file not found” is very different from “don’t have permissions to open file” or “file is empty.”</p></li>
<li><p>Write for your audience’s level of understanding.
For example,
error messages should never use programming terms more advanced than
those you would use to describe the code to the user.</p></li>
<li><p>Do not blame the user, and do not use words like fatal, illegal, etc.
The former can be frustrating—in many cases, “user error” actually isn’t—and
the latter can make people worry that the program has damaged their data,
their computer,
or their reputation.</p></li>
<li><p>Do not try to make the computer sound like a human being.
In particular, avoid humor:
very few jokes are funny on the dozenth re-telling,
and most users are going to see error messages at least that often.</p></li>
<li><p>Use a consistent vocabulary.
This rule can be hard to enforce when error messages are written by several different people,
but putting them all in one module makes review easier.</p></li>
</ol>
<p>That last suggestion deserves a little elaboration.
Most people write error messages directly in their code:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">fname</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;.csv&#39;</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s1">: File must end in .csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>A better approach is to put all the error messages in a dictionary:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ERRORS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;not_csv_suffix&#39;</span> <span class="p">:</span> <span class="s1">&#39;</span><span class="si">{fname}</span><span class="s1">: File must end in .csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;config_corrupted&#39;</span> <span class="p">:</span> <span class="s1">&#39;</span><span class="si">{config_name}</span><span class="s1"> corrupted&#39;</span><span class="p">,</span>
    <span class="c1"># ...more error messages...</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>and then only use messages from that dictionary:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">fname</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;.csv&#39;</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">ERRORS</span><span class="p">[</span><span class="s1">&#39;not_csv_suffix&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">))</span>
</pre></div>
</div>
<p>Doing this makes it much easier to ensure that messages are consistent.
It also makes it much easier to give messages in the user’s preferred language:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ERRORS</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;en&#39;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;not_csv_suffix&#39;</span> <span class="p">:</span> <span class="s1">&#39;</span><span class="si">{fname}</span><span class="s1">: File must end in .csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;config_corrupted&#39;</span> <span class="p">:</span> <span class="s1">&#39;</span><span class="si">{config_name}</span><span class="s1"> corrupted&#39;</span><span class="p">,</span>
    <span class="c1"># ...more error messages in English...</span>
  <span class="p">},</span>
  <span class="s1">&#39;fr&#39;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="s1">&#39;not_csv_suffix&#39;</span> <span class="p">:</span> <span class="s1">&#39;</span><span class="si">{fname}</span><span class="s1">: Doit se terminer par .csv&#39;</span><span class="p">,</span>
    <span class="s1">&#39;config_corrupted&#39;</span> <span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">config_name</span><span class="si">}</span><span class="s1"> corrompu&#39;</span><span class="p">,</span>
    <span class="c1"># ...more error messages in French...</span>
  <span class="p">}</span>
  <span class="c1"># ...other languages...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The error report is then looked up and formatted as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">ERRORS</span><span class="p">[</span><span class="n">user_language</span><span class="p">][</span><span class="s1">&#39;not_csv_suffix&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">user_language</span></code> is a two-letter code for the user’s preferred language.</p>
</section>
<section id="testing-error-handling">
<h2>Testing Error Handling<a class="headerlink" href="#testing-error-handling" title="Link to this heading">#</a></h2>
<p>An alarm isn’t much use if it doesn’t go off when it’s supposed to.
Equally,
if a function doesn’t raise an exception when it should
then errors can easily slip past us.
If we want to check that a function called <code class="docutils literal notranslate"><span class="pre">func</span></code>
raises an <code class="docutils literal notranslate"><span class="pre">ExpectedError</span></code> exception,
we can use the following template for a unit test:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1">#...set up fixture...</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">actual</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">fixture</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Expected function to raise exception&#39;</span>
<span class="k">except</span> <span class="n">ExpectedError</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
    <span class="k">pass</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
    <span class="k">assert</span> <span class="kc">False</span><span class="p">,</span> <span class="s1">&#39;Function raised the wrong exception&#39;</span>
</pre></div>
</div>
<p>\newpage</p>
<p>This template has three cases:</p>
<ol class="arabic simple">
<li><p>If the call to <code class="docutils literal notranslate"><span class="pre">func</span></code> returns a value without throwing an exception
then something has gone wrong,
so we <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">False</span></code> (which always fails).</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">func</span></code> raises the error it’s supposed to,
then we go into the first <code class="docutils literal notranslate"><span class="pre">except</span></code> branch
<em>without</em> triggering the <code class="docutils literal notranslate"><span class="pre">assert</span></code> immediately below the function call.
The code in this <code class="docutils literal notranslate"><span class="pre">except</span></code> branch could check that
the exception contains the right error message,
but in this case it does nothing
(which in Python is written <code class="docutils literal notranslate"><span class="pre">pass</span></code>).</p></li>
<li><p>Finally,
if the function raises the wrong kind of exception
we also <code class="docutils literal notranslate"><span class="pre">assert</span> <span class="pre">False</span></code>.
Checking this case might seem overly cautious,
but if the function raises the wrong kind of exception,
users could easily fail to catch it.</p></li>
</ol>
<p>This pattern is so common that <code class="docutils literal notranslate"><span class="pre">pytest</span></code> provides support for it.
Instead of the eight lines in our original example,
we can write:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pytest</span>


<span class="c1">#...set up fixture...</span>
<span class="k">with</span> <span class="n">pytest</span><span class="o">.</span><span class="n">raises</span><span class="p">(</span><span class="n">ExpectedError</span><span class="p">):</span>
    <span class="n">actual</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">fixture</span><span class="p">)</span>
</pre></div>
</div>
<p>The argument to <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> is the type of exception we expect;
the call to the function then goes in the body of the <code class="docutils literal notranslate"><span class="pre">with</span></code> statement.
We will explore <code class="docutils literal notranslate"><span class="pre">pytest.raises</span></code> further in the exercises.</p>
</section>
<section id="reporting-errors">
<h2>Reporting Errors<a class="headerlink" href="#reporting-errors" title="Link to this heading">#</a></h2>
<p>Programs should report things that go wrong;
they should also sometimes report things that go right
so that people can monitor their progress.
Adding <code class="docutils literal notranslate"><span class="pre">print</span></code> statements is a common approach,
but removing them or commenting them out when the code goes into production is tedious and error-prone.</p>
<p>A better approach is to use a <strong>logging framework</strong>, such as Python’s <code class="docutils literal notranslate"><span class="pre">logging</span></code> library.
This lets us leave debugging statements in our code
and turn them on or off at will.
It also lets us send output to any of several destinations,
which is helpful when our data analysis pipeline has several stages
and we are trying to figure out which one contains a bug.</p>
<p>To understand how logging frameworks work,
suppose we want to turn <code class="docutils literal notranslate"><span class="pre">print</span></code> statements in our <code class="docutils literal notranslate"><span class="pre">collate.py</span></code> program on or off
without editing the program’s source code.
We would probably wind up with code like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">LOG_LEVEL</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Processing files...&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">infiles</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">LOG_LEVEL</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reading in </span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s1">...&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fname</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;.csv&#39;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">ERRORS</span><span class="p">[</span><span class="s1">&#39;not_csv_suffix&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">LOG_LEVEL</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Computing word counts...&#39;</span><span class="p">)</span>
        <span class="n">update_counts</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">word_counts</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">LOG_LEVEL</span></code> acts as a threshold:
any debugging output at a lower level than its value isn’t printed.
As a result,
the first log message will always be printed,
but the other two only in case the user has requested more details
by setting <code class="docutils literal notranslate"><span class="pre">LOG_LEVEL</span></code> higher than zero.</p>
<p>A logging framework combines the <code class="docutils literal notranslate"><span class="pre">if</span></code> and <code class="docutils literal notranslate"><span class="pre">print</span></code> statements in a single function call
and defines standard names for the <strong>logging levels</strong>.
In order of increasing severity,
the usual levels are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>: very detailed information used for localizing errors.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INFO</span></code>: confirmation that things are working as expected.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WARNING</span></code>: something unexpected happened, but the program will keep going.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ERROR</span></code>: something has gone badly wrong, but the program hasn’t hurt anything.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code>: potential loss of data, security breach, etc.</p></li>
</ul>
<p>Each of these has a corresponding function:
we can use <code class="docutils literal notranslate"><span class="pre">logging.debug</span></code>, <code class="docutils literal notranslate"><span class="pre">logging.info</span></code>, etc. to write messages at these levels.
By default,
only <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> and above are displayed;
messages appear on <strong>standard error</strong> so that the flow of data in pipes isn’t affected.
The logging framework also displays the source of the message,
which is called <code class="docutils literal notranslate"><span class="pre">root</span></code> by default.
Thus,
if we run the small program shown below,
only the warning message appears:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>


<span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;This is a warning.&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;This is just for information.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>WARNING:root:This is a warning.
</pre></div>
</div>
<p>Rewriting the <code class="docutils literal notranslate"><span class="pre">collate.py</span></code> example above using <code class="docutils literal notranslate"><span class="pre">logging</span></code>
yields code that is less cluttered:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>


<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Processing files...&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">args</span><span class="o">.</span><span class="n">infiles</span><span class="p">:</span>
    <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Reading in </span><span class="si">{</span><span class="n">fname</span><span class="si">}</span><span class="s1">...&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">fname</span><span class="p">[</span><span class="o">-</span><span class="mi">4</span><span class="p">:]</span> <span class="o">!=</span> <span class="s1">&#39;.csv&#39;</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="n">ERRORS</span><span class="p">[</span><span class="s1">&#39;not_csv_suffix&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fname</span><span class="o">=</span><span class="n">fname</span><span class="p">)</span>
        <span class="k">raise</span> <span class="ne">OSError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">fname</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">reader</span><span class="p">:</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Computing word counts...&#39;</span><span class="p">)</span>
        <span class="n">update_counts</span><span class="p">(</span><span class="n">reader</span><span class="p">,</span> <span class="n">word_counts</span><span class="p">)</span>
</pre></div>
</div>
<p>We can also configure logging to send messages to a file
instead of standard error
using <code class="docutils literal notranslate"><span class="pre">logging.basicConfig</span></code>.
(This has to be done before we make any logging calls—it’s not retroactive.)
We can also use that function to set the logging level:
everything at or above the specified level is displayed.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>


<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;logging.log&#39;</span><span class="p">)</span>

<span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;This is for debugging.&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;This is just for information.&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="s1">&#39;This is a warning.&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="s1">&#39;Something went wrong.&#39;</span><span class="p">)</span>
<span class="n">logging</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s1">&#39;Something went seriously wrong.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DEBUG:root:This is for debugging.
INFO:root:This is just for information.
WARNING:root:This is a warning.
ERROR:root:Something went wrong.
CRITICAL:root:Something went seriously wrong.
</pre></div>
</div>
<p>By default,
<code class="docutils literal notranslate"><span class="pre">basicConfig</span></code> re-opens the file we specify in <strong>append mode</strong>;
we can use <code class="docutils literal notranslate"><span class="pre">filemode='w'</span></code> to overwrite the existing log data.
Overwriting is useful during debugging,
but we should think twice before doing it in production,
since the information we throw away often turns out to be
exactly what we need to find a bug.</p>
<p>Many programs allow users to specify logging levels and log filenames as command-line parameters.
At its simplest,
this is a single flag <code class="docutils literal notranslate"><span class="pre">-v</span></code> or <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> that changes the logging level from <code class="docutils literal notranslate"><span class="pre">WARNING</span></code> (the default)
to <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> (the noisiest level).
There may also be a corresponding flag <code class="docutils literal notranslate"><span class="pre">-q</span></code> or <code class="docutils literal notranslate"><span class="pre">--quiet</span></code> that changes the level to <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>,
and a flag <code class="docutils literal notranslate"><span class="pre">-l</span></code> or <code class="docutils literal notranslate"><span class="pre">--logfile</span></code> that specifies the name of a log file.
To log messages to a file while also printing them,
we can tell <code class="docutils literal notranslate"><span class="pre">logging</span></code> to use two handlers simultaneously:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>


<span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">,</span>
    <span class="n">handlers</span><span class="o">=</span><span class="p">[</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s2">&quot;logging.log&quot;</span><span class="p">),</span>
        <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()])</span>

<span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;This is for debugging.&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The string <code class="docutils literal notranslate"><span class="pre">'This</span> <span class="pre">is</span> <span class="pre">for</span> <span class="pre">debugging'</span></code> is both printed to standard error
and appended to <code class="docutils literal notranslate"><span class="pre">logging.log</span></code>.</p>
<p>Libraries like <code class="docutils literal notranslate"><span class="pre">logging</span></code> can send messages to many destinations;
in production,
we might send them to a centralized logging server
that collates logs from many different systems.
We might also use <strong>rotating files</strong>
so that the system always has messages from the last few hours
but doesn’t fill up the disk.
We don’t need any of these when we start,
but the data engineers and system administrators
who eventually have to install and maintain your programs
will be very grateful if we use <code class="docutils literal notranslate"><span class="pre">logging</span></code> instead of <code class="docutils literal notranslate"><span class="pre">print</span></code> statements,
because it allows them to set things up the way they want with very little work.</p>
<blockquote>
<div><p><strong>Logging Configuration</strong></p>
<p>Chapter on <a class="reference external" href="https://software-engineering-group-up.github.io/RSE-UP/chapters/configuration.html">Configuration</a> explained why and how
to save the configuration that produced a particular result.
We clearly also want this information in the log,
so we have three options:</p>
<ol class="arabic simple">
<li><p>Write the configuration values into the log one at a time.</p></li>
<li><p>Save the configuration as a single record in the log
(e.g., as a single entry containing <strong>JSON</strong>).</p></li>
<li><p>Write the configuration to a separate file
and save the filename in the log.</p></li>
</ol>
<p>Option 1 usually means writing a lot of extra code to reassemble the configuration.
Option 2 also often requires us to write extra code
(since we need to be able to save and restore configurations as JSON
as well as in whatever format we normally use),
so on balance we recommend option 3.</p>
</div></blockquote>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Link to this heading">#</a></h2>
<p>Most programmers spend as much time debugging as they do writing new code,
but most courses and textbooks only show working code,
and never discuss how to prevent, diagnose, report, and handle errors.
Raising our own exceptions instead of using the system’s,
writing useful error messages,
and logging problems systematically
can save us and our users a lot of needless work.</p>
</section>
<section id="keypoints">
<h2>Keypoints<a class="headerlink" href="#keypoints" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Signal errors by <strong>raising exceptions</strong>.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">try</span></code>/<code class="docutils literal notranslate"><span class="pre">except</span></code> blocks to <strong>catch</strong> and handle exceptions.</p></li>
<li><p>Python organizes its standard exceptions in a hierarchy so that programs can catch and handle them selectively.</p></li>
<li><p>“Throw low, catch high,” i.e., raise exceptions immediately but handle them at a higher level.</p></li>
<li><p>Write error messages that help users figure out what to do to fix the problem.</p></li>
<li><p>Store error messages in a lookup table to ensure consistency.</p></li>
<li><p>Use a <strong>logging framework</strong> instead of <code class="docutils literal notranslate"><span class="pre">print</span></code> statements to report program activity.</p></li>
<li><p>Separate logging messages into <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code>, <code class="docutils literal notranslate"><span class="pre">INFO</span></code>, <code class="docutils literal notranslate"><span class="pre">WARNING</span></code>, <code class="docutils literal notranslate"><span class="pre">ERROR</span></code>, and <code class="docutils literal notranslate"><span class="pre">CRITICAL</span></code> levels.</p></li>
<li><p>Use <code class="docutils literal notranslate"><span class="pre">logging.basicConfig</span></code> to define basic logging parameters.</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./chapters"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../exercises/testing.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Exercises - Testing</p>
      </div>
    </a>
    <a class="right-next"
       href="../exercises/error_handling.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Exercises - Error Handling</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exceptions">Exceptions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-useful-error-messages">Writing Useful Error Messages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#testing-error-handling">Testing Error Handling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reporting-errors">Reporting Errors</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#summary">Summary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#keypoints">Keypoints</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Software Engineering Group - University of Potsdam
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>